<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Portal del Docente - UPT Jos√© F√©lix Ribas</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* ---------- Estilos base copiados del portal de estudiantes ---------- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f4c75 0%, #3282b8 50%, #bbe1fa 100%);
            min-height: 100vh; padding: 20px;
        }
        .teacher-portal-container {
            background: rgba(255,255,255,0.96); backdrop-filter: blur(15px);
            border-radius: 20px; box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            max-width: 1400px; margin: 0 auto; padding: 40px;
            border: 1px solid rgba(255,255,255,0.3); position: relative; overflow: hidden;
        }
        .teacher-portal-container::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(circle at 20% 80%, rgba(0,114,206,0.05) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255,204,0,0.05) 0%, transparent 50%);
            pointer-events: none;
        }
        .university-header { text-align: center; margin-bottom: 30px; position: relative; z-index: 1; }
        .university-logo {
            width: 90px; height: 90px; background: linear-gradient(135deg, #27ae60, #2ecc71);
            border-radius: 50%; margin: 0 auto 20px; display:flex; align-items:center; justify-content:center;
            font-size:2.2rem; color:white; box-shadow:0 12px 35px rgba(39,174,96,0.3); border:3px solid rgba(255,255,255,0.2);
        }
        .university-name {
            font-size:2rem; font-weight:700; background: linear-gradient(135deg, #27ae60, #2ecc71);
            -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; margin-bottom:8px;
        }
        .university-subtitle { color:#7f8c8d; font-size:1.1rem; font-weight:400; margin-bottom:25px; }
        .patriotic-banner { height:6px; background: linear-gradient(to right, #ffcc00 33.33%, #0072ce 33.33%, #0072ce 66.66%, #cf212e 66.66%); border-radius:3px; margin:25px 0; box-shadow:0 3px 15px rgba(0,0,0,0.1); }

        .teacher-info-header {
            background: linear-gradient(135deg, rgba(39,174,96,0.1), rgba(46,204,113,0.1));
            padding:25px; border-radius:15px; margin-bottom:35px; border:1px solid rgba(39,174,96,0.2);
            position: relative; z-index:1;
        }
        .teacher-badge {
            background: linear-gradient(135deg, #27ae60, #2ecc71); color:white; padding:15px 30px; border-radius:30px;
            font-size:1.3rem; font-weight:600; display:inline-flex; align-items:center; box-shadow:0 10px 30px rgba(39,174,96,0.3);
            margin-bottom:20px;
        }
        .teacher-badge i { margin-right:12px; font-size:1.5rem; }
        .teacher-details { display:grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap:20px; margin-top:20px; }
        .detail-item { display:flex; align-items:center; gap:10px; color:#2c3e50; font-size:1rem; }
        .detail-item i { color:#27ae60; width:20px; text-align:center; }
        .detail-value { font-weight:600; }

        .academic-summary { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:20px; margin-bottom:40px; }
        .summary-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
            padding: 25px 20px; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.1);
            text-align:center; position:relative; overflow:hidden; transition:all 0.3s ease; border-top:4px solid var(--card-color);
        }
        .summary-card:hover { transform: translateY(-5px); box-shadow:0 15px 40px rgba(0,0,0,0.15); }
        .summary-card::after { content:''; position:absolute; top:0; right:0; width:60px; height:60px; background:var(--card-color); opacity:0.1; border-radius:50%; transform:translate(20px,-20px); }
        .summary-number { font-size:2.5rem; font-weight:700; color:var(--card-color); margin-bottom:10px; }
        .summary-label { color:#7f8c8d; font-size:0.95rem; font-weight:500; margin-bottom:8px; }
        .summary-detail { color:#95a5a6; font-size:0.8rem; }

        .card-subjects { --card-color: #27ae60; }
        .card-students { --card-color: #0072ce; }
        .card-grades { --card-color: #f39c12; }
        .card-schedules { --card-color: #9b59b6; }

        .teacher-modules { display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap:25px; margin-bottom:40px; }
        .module-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
            border-radius:18px; padding:30px; box-shadow:0 12px 35px rgba(0,0,0,0.1); transition:all 0.3s ease;
            cursor:pointer; text-decoration:none; color:inherit; position:relative; overflow:hidden; border:1px solid rgba(255,255,255,0.3);
        }
        .module-card::before { content:''; position:absolute; top:0; left:0; right:0; height:5px; background:var(--module-color); }
        .module-card:hover { transform: translateY(-8px); box-shadow:0 20px 50px rgba(0,0,0,0.15); text-decoration:none; color:inherit; }
        .module-card:hover .module-icon { transform: scale(1.1); }
        .module-icon { font-size:3rem; color:var(--module-color); margin-bottom:20px; transition:transform 0.3s ease; display:block; }
        .module-title { font-size:1.4rem; font-weight:700; color:#2c3e50; margin-bottom:12px; }
        .module-description { color:#7f8c8d; font-size:1rem; line-height:1.6; margin-bottom:20px; }
        .module-features { display:flex; flex-wrap:wrap; gap:10px; margin-bottom:20px; }
        .feature-tag { background: rgba(39,174,96,0.1); color:#27ae60; padding:5px 12px; border-radius:15px; font-size:0.8rem; font-weight:500; }
        .module-stats { display:flex; justify-content:space-between; align-items:center; font-size:0.9rem; color:#95a5a6; }
        .stat-item { display:flex; align-items:center; gap:5px; }

        .module-grades { --module-color: #f39c12; }
        .module-subjects { --module-color: #27ae60; }
        .module-enrollment { --module-color: #0072ce; }
        .module-profile { --module-color: #e74c3c; }
        .module-academic { --module-color: #9b59b6; }
        .module-reports { --module-color: #34495e; }

        .recent-activity { background: rgba(255,255,255,0.9); padding:30px; border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,0.1); margin-bottom:30px; }
        .recent-activity h3 { font-size:1.5rem; color:#2c3e50; margin-bottom:25px; display:flex; align-items:center; gap:12px; }
        .recent-activity h3 i { color:#27ae60; }
        .activity-list { display:grid; gap:15px; }
        .activity-item {
            background: linear-gradient(135deg, rgba(39,174,96,0.05), rgba(255,255,255,0.5));
            padding:20px; border-radius:12px; border-left:4px solid var(--activity-color); display:flex; align-items:center; gap:15px;
            transition:all 0.3s ease;
        }
        .activity-item:hover { transform: translateX(5px); box-shadow:0 5px 20px rgba(0,0,0,0.1); }
        .activity-icon { width:50px; height:50px; border-radius:50%; background:var(--activity-color); display:flex; align-items:center; justify-content:center; color:white; font-size:1.2rem; }
        .activity-content { flex:1; }
        .activity-title { font-weight:600; color:#2c3e50; margin-bottom:5px; }
        .activity-desc { color:#7f8c8d; font-size:0.9rem; margin-bottom:5px; }
        .activity-time { color:#bdc3c7; font-size:0.8rem; }
        .activity-grades { --activity-color: #f39c12; }
        .activity-enrollment { --activity-color: #0072ce; }
        .activity-schedule { --activity-color: #9b59b6; }

        .logout-section { text-align:center; margin-top:40px; padding-top:30px; border-top:2px solid #ecf0f1; }
        .logout-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b); color:white; padding:15px 35px; border:none; border-radius:30px;
            font-size:1.1rem; font-weight:600; cursor:pointer; transition:all 0.3s ease; text-decoration:none; display:inline-flex; align-items:center; gap:12px; box-shadow:0 10px 30px rgba(231,76,60,0.3);
        }
        .logout-btn:hover { transform: translateY(-3px); box-shadow:0 15px 40px rgba(231,76,60,0.4); text-decoration:none; color:white; }

        @media (max-width:768px) {
            .teacher-portal-container { padding:25px 20px; margin:10px; }
            .university-name { font-size:1.6rem; }
            .teacher-details { grid-template-columns:1fr; gap:15px; }
            .academic-summary { grid-template-columns: repeat(2,1fr); gap:15px; }
            .teacher-modules { grid-template-columns:1fr; gap:20px; }
            .module-card { padding:25px 20px; }
        }
        @media (max-width:480px) {
            .academic-summary { grid-template-columns:1fr; }
            .summary-number { font-size:2rem; }
            .module-icon { font-size:2.5rem; }
            .module-title { font-size:1.2rem; }
        }

        .fade-in { opacity:0; transform: translateY(30px); transition: all 0.6s ease; }
        .fade-in.show { opacity:1; transform: translateY(0); }
        .scale-in { opacity:0; transform: scale(0.9); transition: all 0.5s ease; }
        .scale-in.show { opacity:1; transform: scale(1); }

        /* ---------- Modal y notificaciones ---------- */
        .overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.45); display: flex; align-items: center; justify-content: center;
            z-index: 9999; padding: 20px;
        }
        .modal {
            width: 100%; max-width: 900px; background: white; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.25);
            overflow: hidden; animation: pop 0.18s ease;
        }
        @keyframes pop { from { transform: translateY(8px) scale(0.98); opacity: 0 } to { transform: translateY(0) scale(1); opacity:1 } }
        .modal-header { padding: 18px 22px; border-bottom: 1px solid #f1f1f1; display:flex; align-items:center; justify-content:space-between; gap:12px; }
        .modal-header h4 { font-size:1.1rem; color:#2c3e50; }
        .modal-body { padding: 18px 22px; max-height: 60vh; overflow:auto; color:#2c3e50; }
        .modal-footer { padding: 16px 22px; border-top: 1px solid #f1f1f1; text-align: right; }

        .btn { display:inline-flex; align-items:center; gap:8px; padding:8px 14px; border-radius:10px; cursor:pointer; border:none; background:#27ae60; color:white; font-weight:600; }
        .btn.ghost { background:transparent; color:#2c3e50; border:1px solid #e6e6e6; }
        .btn.danger { background: linear-gradient(135deg,#e74c3c,#c0392b); }
        .btn.primary { background: linear-gradient(135deg,#27ae60,#2ecc71); }

        /* Tabla simple */
        table { width:100%; border-collapse: collapse; margin-top:10px; }
        th, td { padding:10px 8px; text-align:left; border-bottom:1px solid #f1f1f1; font-size:0.95rem; color:#34495e; }
        th { color:#2c3e50; font-weight:700; font-size:0.95rem; }

        /* Progress bar */
        .progress { background:#ecf0f1; border-radius:999px; height:14px; overflow:hidden; }
        .progress > div { height:100%; background: linear-gradient(90deg,#27ae60,#f39c12); width:0; transition: width 0.7s ease; }

        /* Toast */
        .toast {
            position: fixed; right: 20px; bottom: 20px; background: rgba(0,0,0,0.8); color:white; padding:12px 18px; border-radius:10px;
            z-index: 10000; display:flex; gap:10px; align-items:center; box-shadow:0 8px 30px rgba(0,0,0,0.3);
        }

        /* Formularios */
        label { display:block; font-weight:600; margin-bottom:6px; color:#2c3e50; }
        input[type="text"], input[type="email"], input[type="number"], select, textarea {
            width:100%; padding:10px 12px; border-radius:8px; border:1px solid #e6e6e6; background:#fafafa; font-size:0.95rem;
        }
        textarea { min-height:100px; resize:vertical; }
        .form-row { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:12px; margin-bottom:12px; }
        .grade-input { max-width:80px; text-align:center; }
        .student-row { display:flex; align-items:center; gap:10px; padding:10px; border-bottom:1px solid #f1f1f1; }
        .student-row:hover { background:#f8f9fa; }
    </style>
</head>
<body>
    <div class="teacher-portal-container fade-in">
        <!-- University Header -->
        <div class="university-header">
            <div class="university-logo">
                <i class="fas fa-chalkboard-teacher"></i>
            </div>
            <h1 class="university-name">UPT "Jos√© F√©lix Ribas"</h1>
            <p class="university-subtitle">Portal Acad√©mico del Docente</p>
        </div>

        <div class="patriotic-banner"></div>

        <!-- Teacher Info Header -->
        <div class="teacher-info-header scale-in">
            <div class="teacher-badge">
                <i class="fas fa-chalkboard-teacher"></i>
                Portal del Docente
            </div>
            
            <div class="teacher-details">
                <div class="detail-item">
                    <i class="fas fa-user"></i>
                    <span>Docente: <span class="detail-value">Prof. Mar√≠a Elena Gonz√°lez</span></span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-id-card"></i>
                    <span>C√©dula: <span class="detail-value">V-12.345.678</span></span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-graduation-cap"></i>
                    <span>√Årea: <span class="detail-value">Matem√°tica y Sistemas</span></span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-layer-group"></i>
                    <span>Categor√≠a: <span class="detail-value">Profesor Asociado</span></span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Per√≠odo: <span class="detail-value">2024-I</span></span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-clock"></i>
                    <span>Carga: <span class="detail-value">36 horas semanales</span></span>
                </div>
            </div>
        </div>

        <!-- Academic Summary -->
        <div class="academic-summary">
            <div class="summary-card card-subjects scale-in">
                <div class="summary-number">5</div>
                <div class="summary-label">Materias Asignadas</div>
                <div class="summary-detail">Diferentes programas</div>
            </div>
            
            <div class="summary-card card-students scale-in">
                <div class="summary-number">127</div>
                <div class="summary-label">Estudiantes Activos</div>
                <div class="summary-detail">Per√≠odo 2024-I</div>
            </div>
            
            <div class="summary-card card-grades scale-in">
                <div class="summary-number">8</div>
                <div class="summary-label">Evaluaciones Pendientes</div>
                <div class="summary-detail">Por cargar</div>
            </div>
            
            <div class="summary-card card-schedules scale-in">
                <div class="summary-number">18</div>
                <div class="summary-label">Horas de Clase</div>
                <div class="summary-detail">Esta semana</div>
            </div>
        </div>

        <!-- Teacher Modules -->
        <div class="teacher-modules">
            <a href="#" class="module-card module-grades fade-in" onclick="event.preventDefault(); showGradesManagement()">
                <i class="fas fa-clipboard-list module-icon"></i>
                <h3 class="module-title">Carga de Notas</h3>
                <p class="module-description">Registra y gestiona las calificaciones de tus estudiantes por materia y evaluaci√≥n.</p>
                <div class="module-features">
                    <span class="feature-tag">Evaluaciones parciales</span>
                    <span class="feature-tag">Notas finales</span>
                    <span class="feature-tag">Exportar actas</span>
                </div>
                <div class="module-stats">
                    <span class="stat-item">
                        <i class="fas fa-exclamation-circle"></i>
                        <span>8 pendientes</span>
                    </span>
                    <span class="stat-item"><i class="fas fa-arrow-right"></i></span>
                </div>
            </a>

            <a href="#" class="module-card module-subjects fade-in" onclick="event.preventDefault(); showSubjects()">
                <i class="fas fa-book module-icon"></i>
                <h3 class="module-title">Mis Materias</h3>
                <p class="module-description">Consulta las unidades curriculares asignadas, horarios y programas de estudio.</p>
                <div class="module-features">
                    <span class="feature-tag">UC asignadas</span>
                    <span class="feature-tag">Horarios</span>
                    <span class="feature-tag">M√∫ltiples programas</span>
                </div>
                <div class="module-stats">
                    <span class="stat-item"><i class="fas fa-book-open"></i><span>5 materias activas</span></span>
                    <span class="stat-item"><i class="fas fa-arrow-right"></i></span>
                </div>
            </a>

            <a href="#" class="module-card module-enrollment fade-in" onclick="event.preventDefault(); showEnrollment()">
                <i class="fas fa-users module-icon"></i>
                <h3 class="module-title">Matr√≠cula de Estudiantes</h3>
                <p class="module-description">Gestiona la inscripci√≥n de estudiantes en tus materias y consulta listas por secci√≥n.</p>
                <div class="module-features">
                    <span class="feature-tag">Lista de estudiantes</span>
                    <span class="feature-tag">Por secciones</span>
                    <span class="feature-tag">Estado acad√©mico</span>
                </div>
                <div class="module-stats">
                    <span class="stat-item"><i class="fas fa-user-graduate"></i><span>127 estudiantes</span></span>
                    <span class="stat-item"><i class="fas fa-arrow-right"></i></span>
                </div>
            </a>

            <a href="#" class="module-card module-profile fade-in" onclick="event.preventDefault(); showProfile()">
                <i class="fas fa-user-edit module-icon"></i>
                <h3 class="module-title">Informaci√≥n Personal</h3>
                <p class="module-description">Actualiza tu informaci√≥n personal, datos de contacto y configuraci√≥n profesional.</p>
                <div class="module-features">
                    <span class="feature-tag">Datos personales</span>
                    <span class="feature-tag">Informaci√≥n acad√©mica</span>
                    <span class="feature-tag">Contacto</span>
                </div>
                <div class="module-stats">
                    <span class="stat-item"><i class="fas fa-user-check"></i><span>Perfil completo</span></span>
                    <span class="stat-item"><i class="fas fa-arrow-right"></i></span>
                </div>
            </a>

            <a href="#" class="module-card module-academic fade-in" onclick="event.preventDefault(); showAcademicInfo()">
                <i class="fas fa-calendar-week module-icon"></i>
                <h3 class="module-title">Informaci√≥n Acad√©mica</h3>
                <p class="module-description">Consulta fechas importantes, cronograma de evaluaciones y calendario docente.</p>
                <div class="module-features">
                    <span class="feature-tag">Fechas de entrega</span>
                    <span class="feature-tag">Cronograma</span>
                    <span class="feature-tag">Eventos acad√©micos</span>
                </div>
                <div class="module-stats">
                    <span class="stat-item"><i class="fas fa-calendar"></i><span>Per√≠odo 2024-I</span></span>
                    <span class="stat-item"><i class="fas fa-arrow-right"></i></span>
                </div>
            </a>

            <a href="#" class="module-card module-reports fade-in" onclick="event.preventDefault(); showReports()">
                <i class="fas fa-chart-bar module-icon"></i>
                <h3 class="module-title">Reportes y Estad√≠sticas</h3>
                <p class="module-description">Genera reportes acad√©micos, estad√≠sticas de rendimiento y an√°lisis por materia.</p>
                <div class="module-features">
                    <span class="feature-tag">Rendimiento acad√©mico</span>
                    <span class="feature-tag">Estad√≠sticas</span>
                    <span class="feature-tag">Exportar reportes</span>
                </div>
                <div class="module-stats">
                    <span class="stat-item"><i class="fas fa-file-excel"></i><span>Generar reportes</span></span>
                    <span class="stat-item"><i class="fas fa-arrow-right"></i></span>
                </div>
            </a>
        </div>

        <!-- Recent Activity -->
        <div class="recent-activity fade-in">
            <h3><i class="fas fa-clock"></i> Actividad Reciente</h3>
            <div class="activity-list">
                <div class="activity-item activity-grades">
                    <div class="activity-icon"><i class="fas fa-star"></i></div>
                    <div class="activity-content">
                        <div class="activity-title">Calificaciones cargadas</div>
                        <div class="activity-desc">Matem√°tica II - Secci√≥n A: 25 estudiantes evaluados</div>
                        <div class="activity-time">Hace 1 hora</div>
                    </div>
                </div>

                <div class="activity-item activity-enrollment">
                    <div class="activity-icon"><i class="fas fa-user-plus"></i></div>
                    <div class="activity-content">
                        <div class="activity-title">Nuevo estudiante inscrito</div>
                        <div class="activity-desc">Algoritmos y Programaci√≥n - Juan P√©rez (V-28.123.456)</div>
                        <div class="activity-time">Hace 2 horas</div>
                    </div>
                </div>

                <div class="activity-item activity-schedule">
                    <div class="activity-icon"><i class="fas fa-calendar"></i></div>
                    <div class="activity-content">
                        <div class="activity-title">Recordatorio acad√©mico</div>
                        <div class="activity-desc">Fecha l√≠mite para carga de notas parciales: 25/09/2024</div>
                        <div class="activity-time">Hace 1 d√≠a</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logout Section -->
        <div class="logout-section">
            <a href="#" class="logout-btn" onclick="event.preventDefault(); confirmLogout()">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar Sesi√≥n
            </a>
        </div>
    </div>

    <!-- Contenedor para modal din√°mico -->
    <div id="app-modal-root" style="display:none;"></div>

    <!-- Contenedor para toasts -->
    <div id="toast-root" aria-live="polite" aria-atomic="true"></div>

    <script>
        // Animaciones iniciales
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.querySelectorAll('.fade-in, .scale-in').forEach((el, index) => {
                    setTimeout(() => el.classList.add('show'), index * 80);
                });
            }, 120);
        });

        /* ---------- UTILIDADES DE INTERFAZ ---------- */

        // Muestra una notificaci√≥n (toast) en pantalla
        function showNotification(message, type = 'info', duration = 3200) {
            const root = document.getElementById('toast-root');
            if (!root) return;
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `<strong style="min-width:18px;">${type === 'info' ? '‚ÑπÔ∏è' : type === 'success' ? '‚úÖ' : '‚ö†Ô∏è'}</strong><div>${message}</div>`;
            root.appendChild(toast);
            setTimeout(() => { toast.style.opacity = '0'; toast.style.transform = 'translateY(8px)'; }, duration);
            setTimeout(() => root.removeChild(toast), duration + 360);
        }

        // Crea y abre un modal con contenido HTML
        function showModal({ title = '', html = '', onClose = null, primaryBtn = null }) {
            const root = document.getElementById('app-modal-root');
            root.innerHTML = ''; root.style.display = 'block';

            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            overlay.innerHTML = `
                <div class="modal" role="dialog" aria-modal="true">
                    <div class="modal-header">
                        <h4>${title}</h4>
                        <div>
                            <button class="btn ghost" id="modal-close-btn" title="Cerrar"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <div class="modal-body">${html}</div>
                    <div class="modal-footer" id="modal-footer"></div>
                </div>
            `;
            root.appendChild(overlay);

            // Close handlers
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) closeModal(onClose);
            });
            overlay.querySelector('#modal-close-btn').addEventListener('click', () => closeModal(onClose));

            // primary button if existe
            const footer = overlay.querySelector('#modal-footer');
            if (primaryBtn) {
                const btn = document.createElement('button');
                btn.className = 'btn primary';
                btn.textContent = primaryBtn.label;
                btn.addEventListener('click', () => {
                    if (typeof primaryBtn.action === 'function') primaryBtn.action({ close: () => closeModal(onClose) });
                });
                footer.appendChild(btn);

                if (primaryBtn.secondary) {
                    const sec = document.createElement('button');
                    sec.className = 'btn ghost';
                    sec.textContent = primaryBtn.secondary.label;
                    sec.addEventListener('click', () => {
                        if (typeof primaryBtn.secondary.action === 'function') primaryBtn.secondary.action({ close: () => closeModal(onClose) });
                    });
                    footer.appendChild(sec);
                }
            } else {
                // mostrar bot√≥n cerrar por defecto
                const btn = document.createElement('button');
                btn.className = 'btn ghost';
                btn.textContent = 'Cerrar';
                btn.addEventListener('click', () => closeModal(onClose));
                footer.appendChild(btn);
            }
        }

        function closeModal(onClose) {
            const root = document.getElementById('app-modal-root');
            if (!root) return;
            root.innerHTML = '';
            root.style.display = 'none';
            if (typeof onClose === 'function') onClose();
        }

        /* ---------- FUNCIONALIDADES DE M√ìDULOS DEL DOCENTE ---------- */

        // 1) Carga de Notas - sistema para registrar calificaciones
        function showGradesManagement() {
            const materias = [
                { id: 'mat1', nombre: 'Matem√°tica II', seccion: 'A', estudiantes: 25, evaluacionesPendientes: 2 },
                { id: 'mat2', nombre: 'Algoritmos y Programaci√≥n', seccion: 'B', estudiantes: 22, evaluacionesPendientes: 1 },
                { id: 'mat3', nombre: 'Bases de Datos I', seccion: 'A', estudiantes: 28, evaluacionesPendientes: 3 },
                { id: 'mat4', nombre: 'Sistemas Operativos', seccion: 'C', estudiantes: 30, evaluacionesPendientes: 1 },
                { id: 'mat5', nombre: 'Ingenier√≠a de Software', seccion: 'A', estudiantes: 22, evaluacionesPendientes: 1 }
            ];

            const rows = materias.map(m => `
                <tr>
                    <td><strong>${m.nombre}</strong></td>
                    <td>${m.seccion}</td>
                    <td>${m.estudiantes}</td>
                    <td><span style="color: ${m.evaluacionesPendientes > 0 ? '#e74c3c' : '#27ae60'}">${m.evaluacionesPendientes}</span></td>
                    <td>
                        <button class="btn primary" onclick="openGradeEntry('${m.id}')" style="font-size:0.8rem; padding:4px 8px;">
                            <i class="fas fa-edit"></i> Cargar Notas
                        </button>
                    </td>
                </tr>
            `).join('');

            const html = `
                <div>
                    <h3>üìä Gesti√≥n de Calificaciones</h3>
                    <p style="color:#7f8c8d; margin-bottom:12px;">Selecciona una materia para cargar o actualizar las calificaciones de los estudiantes.</p>
                    <table>
                        <thead>
                            <tr><th>Materia</th><th>Secci√≥n</th><th>Estudiantes</th><th>Evaluaciones Pendientes</th><th>Acci√≥n</th></tr>
                        </thead>
                        <tbody>${rows}</tbody>
                    </table>
                    
                    <div style="margin-top:16px; padding:12px; background:#f8f9fa; border-radius:8px;">
                        <strong>Pr√≥ximas fechas l√≠mite:</strong><br>
                        <small style="color:#e74c3c;">‚Ä¢ Evaluaci√≥n parcial 2: 25 de septiembre, 2024</small><br>
                        <small style="color:#f39c12;">‚Ä¢ Evaluaci√≥n final: 10 de octubre, 2024</small>
                    </div>
                </div>
            `;

            showModal({ title: 'Carga de Notas', html });
        }

        // Funci√≥n auxiliar para abrir entrada de notas espec√≠fica
        function openGradeEntry(materiaId) {
            const estudiantes = [
                { ci: 'V-25.123.456', nombre: 'Ana Mar√≠a L√≥pez', eval1: 16, eval2: null, final: null },
                { ci: 'V-24.789.012', nombre: 'Carlos Rodr√≠guez', eval1: 18, eval2: 17, final: null },
                { ci: 'V-26.345.678', nombre: 'Mar√≠a Fern√°ndez', eval1: 15, eval2: null, final: null },
                { ci: 'V-25.901.234', nombre: 'Jos√© Gonz√°lez', eval1: 19, eval2: 18, final: null },
                { ci: 'V-27.567.890', nombre: 'Lucia Mart√≠nez', eval1: 17, eval2: null, final: null }
            ];

            const rows = estudiantes.map((est, idx) => `
                <div class="student-row">
                    <div style="flex:1;">
                        <strong>${est.nombre}</strong><br>
                        <small style="color:#7f8c8d;">${est.ci}</small>
                    </div>
                    <div style="display:flex; gap:10px; align-items:center;">
                        <div>
                            <label style="font-size:0.8rem;">Eval 1</label>
                            <input type="number" class="grade-input" min="0" max="20" value="${est.eval1 || ''}" data-student="${idx}" data-eval="1">
                        </div>
                        <div>
                            <label style="font-size:0.8rem;">Eval 2</label>
                            <input type="number" class="grade-input" min="0" max="20" value="${est.eval2 || ''}" data-student="${idx}" data-eval="2">
                        </div>
                        <div>
                            <label style="font-size:0.8rem;">Final</label>
                            <input type="number" class="grade-input" min="0" max="20" value="${est.final || ''}" data-student="${idx}" data-eval="final">
                        </div>
                        <div style="font-weight:600; color:#27ae60; min-width:50px;">
                            <span id="promedio-${idx}">${calcularPromedio(est.eval1, est.eval2, est.final)}</span>
                        </div>
                    </div>
                </div>
            `).join('');

            const html = `
                <div>
                    <h3>‚úèÔ∏è Cargar Notas - Matem√°tica II (Secci√≥n A)</h3>
                    <p style="color:#7f8c8d; margin-bottom:12px;">Ingresa las calificaciones de los estudiantes (escala 0-20).</p>
                    
                    <div style="margin-bottom:16px;">
                        <div style="display:flex; justify-content:space-between; align-items:center; padding:10px; background:#f8f9fa; border-radius:8px; font-weight:600;">
                            <span>Estudiante</span>
                            <div style="display:flex; gap:10px; align-items:center;">
                                <span style="width:60px; text-align:center;">Eval 1</span>
                                <span style="width:60px; text-align:center;">Eval 2</span>
                                <span style="width:60px; text-align:center;">Final</span>
                                <span style="width:50px; text-align:center;">Promedio</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="max-height:400px; overflow-y:auto; border:1px solid #e6e6e6; border-radius:8px;">
                        ${rows}
                    </div>
                    
                    <div style="margin-top:16px; display:flex; gap:10px; justify-content:flex-end;">
                        <button class="btn ghost" onclick="closeModal()">Cancelar</button>
                        <button class="btn primary" onclick="saveGrades()"><i class="fas fa-save"></i> Guardar Notas</button>
                        <button class="btn" onclick="exportGrades()" style="background:#f39c12;"><i class="fas fa-file-excel"></i> Exportar Acta</button>
                    </div>
                </div>
            `;

            showModal({ title: 'Cargar Notas', html });

            // Listener para actualizar promedios en tiempo real
            setTimeout(() => {
                document.querySelectorAll('.grade-input').forEach(input => {
                    input.addEventListener('input', (e) => {
                        const studentIdx = e.target.dataset.student;
                        const eval1 = parseFloat(document.querySelector(`[data-student="${studentIdx}"][data-eval="1"]`).value) || 0;
                        const eval2 = parseFloat(document.querySelector(`[data-student="${studentIdx}"][data-eval="2"]`).value) || 0;
                        const final = parseFloat(document.querySelector(`[data-student="${studentIdx}"][data-eval="final"]`).value) || 0;
                        
                        const promedio = calcularPromedio(eval1, eval2, final);
                        document.getElementById(`promedio-${studentIdx}`).textContent = promedio;
                    });
                });
            }, 100);
        }

        function calcularPromedio(eval1, eval2, final) {
            const notas = [eval1, eval2, final].filter(n => n && n > 0);
            if (notas.length === 0) return '--';
            const suma = notas.reduce((a, b) => a + b, 0);
            return (suma / notas.length).toFixed(1);
        }

        function saveGrades() {
            showNotification('Calificaciones guardadas correctamente.', 'success');
            closeModal();
        }

        function exportGrades() {
            showNotification('Acta de notas exportada a Excel.', 'success');
        }

        // 2) Materias del docente
        function showSubjects() {
            const materias = [
                { codigo: 'MAT201', nombre: 'Matem√°tica II', programa: 'Inform√°tica', trayecto: 'II', seccion: 'A', horario: 'Lun-Mi√© 8:00-10:00', aula: 'A-201' },
                { codigo: 'INF301', nombre: 'Algoritmos y Programaci√≥n', programa: 'Inform√°tica', trayecto: 'III', seccion: 'B', horario: 'Mar-Jue 10:00-12:00', aula: 'B-103' },
                { codigo: 'BDD101', nombre: 'Bases de Datos I', programa: 'Inform√°tica', trayecto: 'II', seccion: 'A', horario: 'Mi√©-Vie 14:00-16:00', aula: 'C-405' },
                { codigo: 'SOP201', nombre: 'Sistemas Operativos', programa: 'Electr√≥nica', trayecto: 'III', seccion: 'C', horario: 'Lun-Jue 16:00-18:00', aula: 'D-110' },
                { codigo: 'ING301', nombre: 'Ingenier√≠a de Software', programa: 'Sistemas', trayecto: 'IV', seccion: 'A', horario: 'Vie 8:00-12:00', aula: 'B-201' }
            ];

            const rows = materias.map(m => `
                <tr>
                    <td><strong>${m.codigo}</strong></td>
                    <td>${m.nombre}</td>
                    <td>${m.programa}</td>
                    <td>${m.trayecto}</td>
                    <td>${m.seccion}</td>
                    <td>${m.horario}</td>
                    <td>${m.aula}</td>
                </tr>
            `).join('');

            const html = `
                <div>
                    <h3>üìö Mis Materias Asignadas - Per√≠odo 2024-I</h3>
                    <p style="color:#7f8c8d; margin-bottom:12px;">Unidades curriculares bajo tu responsabilidad en diferentes programas.</p>
                    <table>
                        <thead>
                            <tr><th>C√≥digo</th><th>Materia</th><th>Programa</th><th>Trayecto</th><th>Secci√≥n</th><th>Horario</th><th>Aula</th></tr>
                        </thead>
                        <tbody>${rows}</tbody>
                    </table>
                    
                    <div style="margin-top:16px; display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:10px;">
                        <div style="padding:10px; background:#f8f9fa; border-radius:8px; text-align:center;">
                            <strong style="color:#27ae60;">3</strong><br>
                            <small>Programa Inform√°tica</small>
                        </div>
                        <div style="padding:10px; background:#f8f9fa; border-radius:8px; text-align:center;">
                            <strong style="color:#0072ce;">1</strong><br>
                            <small>Programa Electr√≥nica</small>
                        </div>
                        <div style="padding:10px; background:#f8f9fa; border-radius:8px; text-align:center;">
                            <strong style="color:#f39c12;">1</strong><br>
                            <small>Programa Sistemas</small>
                        </div>
                    </div>
                </div>
            `;

            showModal({ title: 'Mis Materias', html });
        }

        // 3) Matr√≠cula de estudiantes
        function showEnrollment() {
            const html = `
                <div>
                    <h3>üë• Matr√≠cula de Estudiantes</h3>
                    <p style="color:#7f8c8d; margin-bottom:12px;">Gestiona la inscripci√≥n de estudiantes en tus materias.</p>
                    
                    <div class="form-row">
                        <div>
                            <label>Seleccionar Materia</label>
                            <select id="materia-select" onchange="loadStudentList()">
                                <option value="">-- Seleccione una materia --</option>
                                <option value="mat1">Matem√°tica II - Secci√≥n A</option>
                                <option value="mat2">Algoritmos y Programaci√≥n - Secci√≥n B</option>
                                <option value="mat3">Bases de Datos I - Secci√≥n A</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="student-list" style="display:none; margin-top:16px;">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                            <h4>Lista de Estudiantes - Matem√°tica II (Secci√≥n A)</h4>
                            <button class="btn" style="font-size:0.8rem; padding:6px 12px;" onclick="addStudent()">
                                <i class="fas fa-user-plus"></i> Agregar Estudiante
                            </button>
                        </div>
                        
                        <table>
                            <thead>
                                <tr><th>C√©dula</th><th>Nombre</th><th>Trayecto</th><th>Estado</th><th>Acciones</th></tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>V-25.123.456</td>
                                    <td>Ana Mar√≠a L√≥pez</td>
                                    <td>II</td>
                                    <td><span style="color:#27ae60;">Activo</span></td>
                                    <td>
                                        <button class="btn ghost" style="font-size:0.8rem; padding:4px 8px;">
                                            <i class="fas fa-eye"></i> Ver
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>V-24.789.012</td>
                                    <td>Carlos Rodr√≠guez</td>
                                    <td>II</td>
                                    <td><span style="color:#27ae60;">Activo</span></td>
                                    <td>
                                        <button class="btn ghost" style="font-size:0.8rem; padding:4px 8px;">
                                            <i class="fas fa-eye"></i> Ver
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>V-26.345.678</td>
                                    <td>Mar√≠a Fern√°ndez</td>
                                    <td>II</td>
                                    <td><span style="color:#f39c12;">Retirado</span></td>
                                    <td>
                                        <button class="btn ghost" style="font-size:0.8rem; padding:4px 8px;">
                                            <i class="fas fa-eye"></i> Ver
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style="margin-top:12px; padding:10px; background:#f8f9fa; border-radius:8px; display:flex; justify-content:space-between;">
                            <span><strong>Total inscritos:</strong> 25 estudiantes</span>
                            <span><strong>Activos:</strong> 23 | <strong>Retirados:</strong> 2</span>
                        </div>
                    </div>
                </div>
            `;

            showModal({ title: 'Matr√≠cula de Estudiantes', html });
        }

        function loadStudentList() {
            const select = document.getElementById('materia-select');
            const list = document.getElementById('student-list');
            if (select.value) {
                list.style.display = 'block';
            } else {
                list.style.display = 'none';
            }
        }

        function addStudent() {
            showNotification('Funci√≥n para agregar estudiante (requiere integraci√≥n con sistema de matr√≠cula).', 'info');
        }

        // 4) Perfil del docente
        function showProfile() {
            const html = `
                <div>
                    <h3>üë§ Informaci√≥n Personal</h3>
                    <p style="color:#7f8c8d;">Actualiza tu informaci√≥n personal y acad√©mica.</p>
                    <form id="teacher-profile-form" style="margin-top:12px;">
                        <div class="form-row">
                            <div>
                                <label>Nombre completo</label>
                                <input type="text" name="nombre" value="Mar√≠a Elena Gonz√°lez P√©rez" />
                            </div>
                            <div>
                                <label>C√©dula</label>
                                <input type="text" name="cedula" value="V-12.345.678" readonly />
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div>
                                <label>Correo institucional</label>
                                <input type="email" name="correo" value="m.gonzalez@upt.edu.ve" />
                            </div>
                            <div>
                                <label>Tel√©fono</label>
                                <input type="text" name="telefono" value="+58 424-555-7890" />
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div>
                                <label>√Årea de especializaci√≥n</label>
                                <input type="text" name="area" value="Matem√°tica y Sistemas" />
                            </div>
                            <div>
                                <label>Categor√≠a docente</label>
                                <select name="categoria">
                                    <option value="instructor">Instructor</option>
                                    <option value="asistente">Profesor Asistente</option>
                                    <option value="asociado" selected>Profesor Asociado</option>
                                    <option value="titular">Profesor Titular</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div>
                                <label>A√±os de experiencia</label>
                                <input type="number" name="experiencia" value="12" min="0" />
                            </div>
                            <div>
                                <label>Tipo de dedicaci√≥n</label>
                                <select name="dedicacion">
                                    <option value="completa" selected>Tiempo Completo</option>
                                    <option value="medio">Medio Tiempo</option>
                                    <option value="convencional">Convencional</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label>Direcci√≥n</label>
                            <textarea name="direccion">Av. Universidad, Urb. Los Profesores, Casa 25</textarea>
                        </div>

                        <div style="margin-top:16px; display:flex; gap:10px;">
                            <button class="btn primary" type="button" onclick="saveTeacherProfile()">
                                <i class="fas fa-save"></i> Guardar Cambios
                            </button>
                            <button class="btn ghost" type="button" onclick="closeModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            `;
            
            showModal({ title: 'Informaci√≥n Personal', html });
        }

        function saveTeacherProfile() {
            showNotification('Perfil actualizado correctamente.', 'success');
            closeModal();
        }

        // 5) Informaci√≥n acad√©mica
        function showAcademicInfo() {
            const fechas = [
                { fecha: '2024-09-25', titulo: 'Fecha l√≠mite - Carga de notas parciales 2', tipo: 'urgente' },
                { fecha: '2024-10-10', titulo: 'Fecha l√≠mite - Carga de notas finales', tipo: 'importante' },
                { fecha: '2024-10-15', titulo: 'Cierre del per√≠odo acad√©mico 2024-I', tipo: 'info' },
                { fecha: '2024-10-20', titulo: 'Entrega de actas firmadas', tipo: 'importante' },
                { fecha: '2024-11-01', titulo: 'Inicio per√≠odo 2024-II', tipo: 'info' },
                { fecha: '2024-11-05', titulo: 'Asignaci√≥n de materias 2024-II', tipo: 'info' }
            ];

            const rows = fechas.map(f => {
                const fecha = new Date(f.fecha);
                const color = f.tipo === 'urgente' ? '#e74c3c' : f.tipo === 'importante' ? '#f39c12' : '#27ae60';
                return `
                    <tr>
                        <td>${fecha.toLocaleDateString('es-VE')}</td>
                        <td>${f.titulo}</td>
                        <td><span style="color:${color}; font-weight:600;">${f.tipo.toUpperCase()}</span></td>
                    </tr>
                `;
            }).join('');

            const html = `
                <div>
                    <h3>üìÖ Informaci√≥n Acad√©mica - 2024-I</h3>
                    <p style="color:#7f8c8d;">Cronograma y fechas importantes para docentes.</p>
                    
                    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:12px; margin:16px 0;">
                        <div style="padding:12px; background:linear-gradient(135deg, rgba(231,76,60,0.1), rgba(255,255,255,0.9)); border-radius:8px; border-left:4px solid #e74c3c;">
                            <strong style="color:#e74c3c;">2 d√≠as</strong><br>
                            <small>Para carga de notas parciales</small>
                        </div>
                        <div style="padding:12px; background:linear-gradient(135deg, rgba(243,156,18,0.1), rgba(255,255,255,0.9)); border-radius:8px; border-left:4px solid #f39c12;">
                            <strong style="color:#f39c12;">17 d√≠as</strong><br>
                            <small>Para carga de notas finales</small>
                        </div>
                        <div style="padding:12px; background:linear-gradient(135deg, rgba(39,174,96,0.1), rgba(255,255,255,0.9)); border-radius:8px; border-left:4px solid #27ae60;">
                            <strong style="color:#27ae60;">38 d√≠as</strong><br>
                            <small>Para inicio 2024-II</small>
                        </div>
                    </div>
                    
                    <table>
                        <thead>
                            <tr><th>Fecha</th><th>Evento</th><th>Prioridad</th></tr>
                        </thead>
                        <tbody>${rows}</tbody>
                    </table>
                    
                    <div style="margin-top:16px; padding:12px; background:#f8f9fa; border-radius:8px;">
                        <strong>Recordatorios importantes:</strong><br>
                        <small>‚Ä¢ Las notas deben cargarse completas antes de la fecha l√≠mite</small><br>
                        <small>‚Ä¢ Las actas deben entregarse firmadas en Control de Estudios</small><br>
                        <small>‚Ä¢ Cualquier modificaci√≥n posterior requiere justificaci√≥n escrita</small>
                    </div>
                </div>
            `;

            showModal({ title: 'Informaci√≥n Acad√©mica', html });
        }

        // 6) Reportes y estad√≠sticas
        function showReports() {
            const html = `
                <div>
                    <h3>üìä Reportes y Estad√≠sticas</h3>
                    <p style="color:#7f8c8d;">Genera reportes acad√©micos y consulta estad√≠sticas de rendimiento.</p>
                    
                    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap:16px; margin:16px 0;">
                        <div style="padding:16px; border:1px solid #e6e6e6; border-radius:8px;">
                            <h4><i class="fas fa-chart-line" style="color:#27ae60;"></i> Rendimiento por Materia</h4>
                            <p style="font-size:0.9rem; color:#7f8c8d; margin:8px 0;">Estad√≠sticas de calificaciones y aprobaci√≥n por UC.</p>
                            <button class="btn primary" onclick="generatePerformanceReport()" style="width:100%; margin-top:8px;">
                                <i class="fas fa-chart-bar"></i> Generar Reporte
                            </button>
                        </div>
                        
                        <div style="padding:16px; border:1px solid #e6e6e6; border-radius:8px;">
                            <h4><i class="fas fa-users" style="color:#0072ce;"></i> Lista de Estudiantes</h4>
                            <p style="font-size:0.9rem; color:#7f8c8d; margin:8px 0;">Exportar listas completas por materia y secci√≥n.</p>
                            <button class="btn" onclick="generateStudentList()" style="width:100%; margin-top:8px; background:#0072ce;">
                                <i class="fas fa-file-excel"></i> Exportar Listas
                            </button>
                        </div>
                        
                        <div style="padding:16px; border:1px solid #e6e6e6; border-radius:8px;">
                            <h4><i class="fas fa-clipboard-check" style="color:#f39c12;"></i> Actas de Notas</h4>
                            <p style="font-size:0.9rem; color:#7f8c8d; margin:8px 0;">Generar actas oficiales de calificaciones.</p>
                            <button class="btn" onclick="generateGradeSheets()" style="width:100%; margin-top:8px; background:#f39c12;">
                                <i class="fas fa-file-pdf"></i> Generar Actas
                            </button>
                        </div>
                        
                        <div style="padding:16px; border:1px solid #e6e6e6; border-radius:8px;">
                            <h4><i class="fas fa-calendar-check" style="color:#9b59b6;"></i> Reporte de Asistencia</h4>
                            <p style="font-size:0.9rem; color:#7f8c8d; margin:8px 0;">Control de asistencia por materia y per√≠odo.</p>
                            <button class="btn" onclick="generateAttendanceReport()" style="width:100%; margin-top:8px; background:#9b59b6;">
                                <i class="fas fa-check-circle"></i> Generar Reporte
                            </button>
                        </div>
                    </div>
                    
                    <div style="margin-top:20px;">
                        <h4>Estad√≠sticas Generales del Per√≠odo 2024-I</h4>
                        <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap:12px; margin-top:12px;">
                            <div style="text-align:center; padding:10px; background:#f8f9fa; border-radius:8px;">
                                <div style="font-size:1.5rem; font-weight:bold; color:#27ae60;">85.3%</div>
                                <div style="font-size:0.8rem; color:#7f8c8d;">√çndice de Aprobaci√≥n</div>
                            </div>
                            <div style="text-align:center; padding:10px; background:#f8f9fa; border-radius:8px;">
                                <div style="font-size:1.5rem; font-weight:bold; color:#0072ce;">16.2</div>
                                <div style="font-size:0.8rem; color:#7f8c8d;">Promedio General</div>
                            </div>
                            <div style="text-align:center; padding:10px; background:#f8f9fa; border-radius:8px;">
                                <div style="font-size:1.5rem; font-weight:bold; color:#f39c12;">127</div>
                                <div style="font-size:0.8rem; color:#7f8c8d;">Total Estudiantes</div>
                            </div>
                            <div style="text-align:center; padding:10px; background:#f8f9fa; border-radius:8px;">
                                <div style="font-size:1.5rem; font-weight:bold; color:#9b59b6;">92%</div>
                                <div style="font-size:0.8rem; color:#7f8c8d;">Asistencia Media</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            showModal({ title: 'Reportes y Estad√≠sticas', html });
        }

        function generatePerformanceReport() {
            showNotification('Generando reporte de rendimiento acad√©mico...', 'info');
            setTimeout(() => {
                showNotification('Reporte de rendimiento descargado exitosamente.', 'success');
            }, 1500);
        }

        function generateStudentList() {
            showNotification('Exportando listas de estudiantes...', 'info');
            setTimeout(() => {
                showNotification('Listas de estudiantes exportadas a Excel.', 'success');
            }, 1200);
        }

        function generateGradeSheets() {
            showNotification('Generando actas de calificaciones...', 'info');
            setTimeout(() => {
                showNotification('Actas de notas generadas en formato PDF.', 'success');
            }, 1800);
        }

        function generateAttendanceReport() {
            showNotification('Procesando reporte de asistencia...', 'info');
            setTimeout(() => {
                showNotification('Reporte de asistencia generado correctamente.', 'success');
            }, 1400);
        }

        // Confirmaci√≥n de cierre de sesi√≥n
        function confirmLogout() {
            const confirmed = confirm('¬øDesea cerrar sesi√≥n?');
            if (confirmed) {
                showNotification('Sesi√≥n cerrada. Redirigiendo...', 'info');
                setTimeout(() => {
                    window.location.href = '/';
                }, 600);
            } else {
                showNotification('Acci√≥n cancelada.', 'info');
            }
        }

    </script>
</body>
</html>